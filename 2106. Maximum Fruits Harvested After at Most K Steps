class Solution {
public:

    int maxTotalFruits(vector<vector<int>>& fruits, int startPos, int k) {
        int ans = 0;
        int currsum = 0;
        int left = 0;
        for(int i=0;i<fruits.size();i++){
            currsum+= fruits[i][1];
            // validation and process
            while(left<=i && 
            min( abs(startPos-fruits[left][0]) + fruits[i][0]-fruits[left][0] , 
                    abs(fruits[i][0]-startPos) + fruits[i][0]-fruits[left][0]  ) > k ){
                // reduce
                currsum-=fruits[left][1];
                left++;
            }
            ans  = max(ans,currsum);
        }
        return ans;
    }
};
