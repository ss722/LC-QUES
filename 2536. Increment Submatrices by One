class Solution {
public:
    vector<vector<int>> rangeAddQueries(int n, vector<vector<int>>& queries) {
        vector<vector<int>> v(n,vector<int>(n,0));

        for(auto it:queries){
            int r1,r2,c1,c2;
            r1 = it[0];
            r2 = it[2];
            c1 = it[1];
            c2 = it[3];
            
            // Top left point
            v[r1][c1]++;

            // Bottom left point
            if(r2+1 < n) v[r2+1][c1]--;

            // Top right point
            if(c2+1 < n) v[r1][c2+1]--;

            // bottom right
            if(r2+1<n && c2+1<n) v[r2+1][c2+1]++;
        }
        
        for(int i=0;i<n;i++){
            int curr = 0;
            for(int j=0;j<n;j++){
                curr+=v[i][j];
                v[i][j] = curr;
            }
        }
        for(int i=0;i<n;i++){
            int curr = 0;
            for(int j=0;j<n;j++){
                curr+=v[j][i];
                v[j][i] = curr;
            }
        }
        return v;

    }
};

