class Solution {
public:
    int n;
    /// down - up
    double diff(double mid ,vector<vector<int>>& squares){
        double up=0.0,down=0.0;
        for(int i=0;i<n;i++){
            double x = squares[i][0];
            double y = squares[i][1];
            double len = squares[i][2];

            if(y+len <=mid){
                down += len*len; 
            }
            else if(y >= mid){
                up += len*len;
            }
            else{
                down += len*(mid-y);
                up += len*(y+len-mid);
            }
        }
        return down - up;
    }
    double separateSquares(vector<vector<int>>& squares) {
        n=squares.size();
        double low = 0.0;
        double high = 0.0;
        for(int i=0;i<n;i++){
            high = max(high,(double)squares[i][1]+squares[i][2]);
        }

        while(high-low >= 1e-5){
            double mid = low+(high-low)/2.0;
            double val = diff(mid,squares);
            if(val<0){
                low = mid;
            } 
            else if(val>=0){
                high = mid;
            }
        }
        return high;
    }
};
